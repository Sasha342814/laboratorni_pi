<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="UTF-8">
  <title>Лабораторна робота №4</title>
</head>

<body>
  <h1>Тест з різними типами запитань</h1>
  <form id="testForm">
    <div class="question">
      <h2>1. Столиця України?</h2>
      <label><input type="radio" name="q1" value="1"> Київ</label><br>
      <label><input type="radio" name="q1" value="0"> Львів</label><br>
      <label><input type="radio" name="q1" value="0"> Одеса</label><br>
      <label><input type="radio" name="q1" value="0"> Харків</label>
    </div>
    <div class="question">
      <h2>2. Який рік зараз?</h2>
      <label><input type="radio" name="q2" value="0"> 2023</label><br>
      <label><input type="radio" name="q2" value="0"> 2024</label><br>
      <label><input type="radio" name="q2" value="1"> 2025</label><br>
      <label><input type="radio" name="q2" value="0"> 2026</label>
    </div>
    <div class="question">
      <h2>3. Оберіть парні числа:</h2>
      <label><input type="checkbox" name="q3" value="1"> 2</label><br>
      <label><input type="checkbox" name="q3" value="1"> 4</label><br>
      <label><input type="checkbox" name="q3" value="0"> 5</label><br>
      <label><input type="checkbox" name="q3" value="0"> 7</label>
    </div>
    <div class="question">
      <h2>4. Оберіть кольори прапора України:</h2>
      <label><input type="checkbox" name="q4" value="1"> Синій</label><br>
      <label><input type="checkbox" name="q4" value="1"> Жовтий</label><br>
      <label><input type="checkbox" name="q4" value="0"> Зелений</label><br>
      <label><input type="checkbox" name="q4" value="0"> Червоний</label>
    </div>
    <div class="question">
      <h2>5. Оберіть найбільшу планету Сонячної системи:</h2>
      <select name="q5">
        <option value="0">Земля</option>
        <option value="0">Марс</option>
        <option value="1">Юпітер</option>
        <option value="0">Венера</option>
      </select>
    </div>
    <div class="question">
      <h2>6. Оберіть мови програмування:</h2>
      <select name="q6" multiple size="4">
        <option value="1">C++</option>
        <option value="1">JavaScript</option>
        <option value="0">HTML</option>
        <option value="0">CSS</option>
      </select>
      <p><small>(Обрати потрібно рівно 2 правильних варіанти)</small></p>
    </div>
    <div class="question">
      <h2>7. Напишіть число 2 + 2:</h2>
      <input type="text" name="q7">
    </div>

    <button type="button" onclick="checkTest()">Завершити тестування</button>

  </form>

  <div id="result"></div>

  <script>
    function checkTest() {
      const form = document.getElementById('testForm');
      let totalScore = 0;
      let tableHTML = `<table>
    <tr><th>№</th><th>Питання</th><th>Відповідь</th><th>Бали</th></tr>`;
      let q1 = form.q1;
      let ans1 = '';
      let score1 = 0;
      for (let i = 0; i < q1.length; i++) {
        if (q1[i].checked) {
          ans1 = q1[i].nextSibling.textContent.trim();
          score1 = parseFloat(q1[i].value);
        }
      }
      totalScore += score1;
      tableHTML += `<tr><td>1</td><td>Столиця України</td><td>${ans1}</td><td>${score1}</td></tr>`;

      let q2 = form.q2;
      let ans2 = '';
      let score2 = 0;
      for (let i = 0; i < q2.length; i++) {
        if (q2[i].checked) {
          ans2 = q2[i].nextSibling.textContent.trim();
          score2 = parseFloat(q2[i].value);
        }
      }
      totalScore += score2;
      tableHTML += `<tr><td>2</td><td>Який рік зараз</td><td>${ans2}</td><td>${score2}</td></tr>`;

      let q3 = form.q3;
      let ans3 = [];
      let checked3 = [];
      for (let i = 0; i < q3.length; i++) {
        if (q3[i].checked) {
          ans3.push(q3[i].nextSibling.textContent.trim());
          checked3.push(parseFloat(q3[i].value));
        }
      }
      let score3 = calcCheckboxScore(checked3);
      totalScore += score3;
      tableHTML += `<tr><td>3</td><td>Парні числа</td><td>${ans3.join(', ')}</td><td>${score3}</td></tr>`;

      let q4 = form.q4;
      let ans4 = [];
      let checked4 = [];
      for (let i = 0; i < q4.length; i++) {
        if (q4[i].checked) {
          ans4.push(q4[i].nextSibling.textContent.trim());
          checked4.push(parseFloat(q4[i].value));
        }
      }
      let score4 = calcCheckboxScore(checked4);
      totalScore += score4;
      tableHTML += `<tr><td>4</td><td>Кольори прапора</td><td>${ans4.join(', ')}</td><td>${score4}</td></tr>`;

      let q5 = form.q5;
      let ans5 = q5.options[q5.selectedIndex].text;
      let score5 = parseFloat(q5.value);
      totalScore += score5;
      tableHTML += `<tr><td>5</td><td>Найбільша планета</td><td>${ans5}</td><td>${score5}</td></tr>`;

      let q6 = form.q6;
      let ans6 = [];
      let checked6 = [];
      for (let i = 0; i < q6.options.length; i++) {
        if (q6.options[i].selected) {
          ans6.push(q6.options[i].text);
          checked6.push(parseFloat(q6.options[i].value));
        }
      }
      let score6 = calcCheckboxScore(checked6);
      totalScore += score6;
      tableHTML += `<tr><td>6</td><td>Мови програмування</td><td>${ans6.join(', ')}</td><td>${score6}</td></tr>`;

      let q7 = form.q7.value.trim();
      let score7 = (q7 === '4') ? 1 : 0;
      totalScore += score7;
      tableHTML += `<tr><td>7</td><td>2 + 2</td><td>${q7}</td><td>${score7}</td></tr>`;

      tableHTML += `</table>`;
      tableHTML += `<div class="total">Загальний бал: ${totalScore}</div>`;
      document.getElementById('result').innerHTML = tableHTML;
    }

    function calcCheckboxScore(values) {
      if (values.length === 2) {
        let sum = values[0] + values[1];
        if (sum === 2) return 2;
        if (sum === 1) return 1;
        return 0;
      } else {
        return 0;
      }
    }
  </script>

</body>

</html>